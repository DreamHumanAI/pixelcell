<!DOCTYPE html>
<html>
<head>
  <title>ğŸŒ± Pixel Cell Generator</title>
  <style>
    code {
      background-color: #f4f4f4;
      padding: 4px 6px;
      border-radius: 4px;
      font-family: monospace;
    }
    button {
      margin-top: 6px;
      padding: 4px 10px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h2>ğŸŒ± Pixel Cell Generator</h2>

  <label for="pixel-label">Pixel Label</label>
  <input id="pixel-label" placeholder="e.g. Investor Email" />
  <button onclick="generatePixel()">Generate Planted Pixel</button>

  <h3>ğŸ”— Pixel URL</h3>
  <code id="result-url"></code>

  <h3>ğŸ“© Standard Embed Code</h3>
  <code id="result-code"></code>
  <button onclick="copyCode()">Copy Embed</button>

  <h3>âœ‰ï¸ Gmail-Compatible Embed</h3>
  <code id="gmail-code"></code>
  <button onclick="copyGmailCode()">Copy Gmail Embed</button>

  <script>
    function generatePixel() {
      const label = document.getElementById("pixel-label").value;
      const id = "px_" + Math.random().toString(36).substr(2, 8);
      const pixelURL = `/api/p/${id}`;
      const embedCode = `<img src='${pixelURL}' width='1' height='1' style='display:none;' alt='' />`;

      document.getElementById("result-url").textContent = pixelURL;
      document.getElementById("result-code").textContent = embedCode;
      document.getElementById("gmail-code").innerHTML = embedCode;
    }

    function copyCode() {
      const code = document.getElementById("result-code").textContent;
      navigator.clipboard.writeText(code);
      alert("ğŸ“‹ Standard embed copied!");
    }

    function copyGmailCode() {
      const gmailEmbed = document.getElementById("gmail-code").textContent;
      navigator.clipboard.writeText(gmailEmbed);
      alert("ğŸ“‹ Gmail embed copied!");
    }
  </script>
</body>
</html>
